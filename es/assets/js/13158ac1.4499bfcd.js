"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[659],{3905:function(e,a,n){n.d(a,{Zo:function(){return d},kt:function(){return m}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=t.createContext({}),c=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},d=function(e){var a=c(e.components);return t.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,b=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return n?t.createElement(b,i(i({ref:a},d),{},{components:n})):t.createElement(b,i({ref:a},d))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},946:function(e,a,n){n.r(a),n.d(a,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var t=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={sidebar_position:2,title:"Como usarlo",description:"Como utilizar Ezlib"},s=void 0,c={unversionedId:"ezlib/usage",id:"ezlib/usage",title:"Como usarlo",description:"Como utilizar Ezlib",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/ezlib/usage.md",sourceDirName:"ezlib",slug:"/ezlib/usage",permalink:"/es/ezlib/usage",draft:!1,editUrl:"https://github.com/saicone/docs/blob/master/docs/ezlib/usage.md",tags:[],version:"current",lastUpdatedBy:"Rubenicos",lastUpdatedAt:1652214185,formattedLastUpdatedAt:"10/5/2022",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Como usarlo",description:"Como utilizar Ezlib"},sidebar:"ezlib",previous:{title:"Ezlib",permalink:"/es/ezlib/"}},d={},p=[{value:"Basic",id:"basic",level:2},{value:"Parent ClassLoader",id:"parent-classloader",level:2},{value:"Recolocaci\xf3n",id:"recolocaci\xf3n",level:2}],u={toc:p};function m(e){var a=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Ezlib usa el mismo formato que gradle para agregar dependencias"))),(0,o.kt)("h2",{id:"basic"},"Basic"),(0,o.kt)("p",null,"Ezlib ofrece m\xe9todos f\xe1ciles de entender para cargar todas las dependencias que necesites en tiempo de ejecuci\xf3n dentro de un class loader."),(0,o.kt)("p",null,"Aqu\xed se muestra un ejemplo para cargar dependencias en un child class loader."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'// Crear una instancia de Ezlib que por defecto guarda la librer\xedas en el path "folder"\nEzlib ezlib = new Ezlib();\n// Tambi\xe9n puedes crear la instancia especificando el path\nEzlib ezlib = new Ezlib(new File("folder/path"));\n\n// Cargar una dependencia desde el repositorio de Maven (por defecto)\nezlib.load("commons-io:commons-io:2.11.0");\n\n// Cargar una dependencia desde un repositorio en espec\xedfico\nezlib.load("com.saicone.rtag:rtag:1.1.0", "https://jitpack.io/");\n\n// Tambien puedes cambiar el repositoria por defecto\nezlib.setDefaultRepository("URL de repositorio");\n')),(0,o.kt)("h2",{id:"parent-classloader"},"Parent ClassLoader"),(0,o.kt)("p",null,'Ezlib permite cargar la dependencias en el parent class loader actual, solamente a\xf1adiendo "true" al final del m\xe9todo load.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'Ezlib ezlib = new Ezlib();\n\n// Cargar desde el repositorio de Maven (por defecto)\nezlib.load("commons-io:commons-io:2.11.0", true);\n\n// Cargar desde un repositorio en espec\xedfico\nezlib.load("com.saicone.rtag:rtag:1.1.0", "https://jitpack.io/", true);\n')),(0,o.kt)("h2",{id:"recolocaci\xf3n"},"Recolocaci\xf3n"),(0,o.kt)("p",null,"Ezlib usa la librer\xeda ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lucko/jar-relocator"},"jar-relocator"),", as\xed que puedes recolocar los imports de las dependencias que quieres cargar."),(0,o.kt)("p",null,"Aqu\xed se ver\xe1 un ejemplo para cargar la librer\xedas de Redis con todas sus dependencias en el parent class loader."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'Map<String, String> relocations = new HashMap();\nrelocations.put("com.google.gson", "myproject.path.libs.gson");\nrelocations.put("org.apache.commons.pool2", "myproject.path.libs.pool2");\nrelocations.put("org.json", "myproject.path.libs.json");\nrelocations.put("org.slf4j", "myproject.path.libs.slf4j");\nrelocations.put("redis.clients.jedis", "myproject.path.libs.jedis");\n\nEzlib ezlib = new Ezlib();\n\n// Cargar primero todas las librer\xedas necesarias\nezlib.load("com.google.gson:gson:2.8.9", relocations, true);\nezlib.load("org.apache.commons:commons-pool2:2.11.1", relocations, true);\nezlib.load("org.json:json:20211205", relocations, true);\nezlib.load("org.slf4j:slf4j-api:1.7.32", relocations, true);\n\n// Luego cargar la librer\xeda de Redis\nezlib.load("redis.clients:jedis:4.2.2", relocations, true);\n')),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Recuerda recolocar los imports de tu proyecto cuando lo vayas a compilar ya sea usando Gradle ShadowJar o Maven Shade, para que la recolocaci\xf3n de Ezlib tenga sentido con tu proyecto actual, adem\xe1s excluye el class que estas utilizando para cargar las dependencias al momento de recolocar los imports de tu proyecto ya que los Strings de ese class tambi\xe9n son cambiados."))))}m.isMDXComponent=!0}}]);